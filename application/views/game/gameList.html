
 <div class="tpl-content-wrapper" style="margin-top: 20px">

    <div class="am-u-sm-12 am-u-md-12 am-u-lg-12">
           	<div class="widget am-cf">
	            <div class="widget-head am-cf">
	                <div class="widget-title  am-cf">奖品管理</div>
	            </div>
	            <div class="widget-body  am-fr">
	                
	                <div style="margin-bottom: 20px">
	                	<button type="button" data-am-modal="{target: '#my-prompt'}" class="am-btn am-btn-default am-btn-success"><span class="am-icon-plus"></span> 添加奖品</button>
	                </div>

	                <div class="am-u-sm-12">
	                    <table width="100%" class="am-table am-table-compact am-table-striped tpl-table-black " id="example-r">
	                        <thead>
	                            <tr>
	                                <th>ID</th> 
	                                <th>奖品名称</th>
	                                <th>操作</th>
	                            </tr>
	                        </thead>
	                        <tbody id="doc-modal-list">
	                            <tr class="gradeX">
	                                <td>1</td> 
	                                <td class="awName">50HI豆</td> 
	                                <td>
	                                    <div class="tpl-table-black-operation"> 
	                                        <a href="javascript:;" class="tpl-table-black-operation update">
	                                            <i class="am-icon-pencil"></i> 修改
	                                        </a>
	                                        <a href="javascript:;" id="1" class="tpl-table-black-operation-del">
	                                            <i class="am-icon-trash"></i> 删除
	                                        </a>
	                                    </div>
	                                </td>
	                            </tr>
	                            <tr class="gradeX">
	                                <td>2</td>
	                                <td class="awName">5元现金券</td>
	                                <td>
	                                    <div class="tpl-table-black-operation"> 
	                                        <a href="javascript:;" class="tpl-table-black-operation update">
	                                            <i class="am-icon-pencil"></i> 修改
	                                        </a>
	                                        <a href="javascript:;" id="2" class="tpl-table-black-operation-del">
	                                            <i class="am-icon-trash"></i> 删除
	                                        </a>
	                                    </div>
	                                </td>
	                            </tr>
	                            <!-- more data -->
	                        </tbody>
	                    </table>
	                </div>

	             
	                <div class="am-u-lg-12 am-cf">

	                    <div class="am-fr">
	                        <ul class="am-pagination tpl-pagination">
	                            <li class="am-disabled"><a href="#">«</a></li>
	                            <li class="am-active"><a href="#">1</a></li>
	                            <li><a href="#">2</a></li>
	                            <li><a href="#">3</a></li>
	                            <li><a href="#">4</a></li>
	                            <li><a href="#">5</a></li>
	                            <li><a href="#">»</a></li>
	                        </ul>
	                    </div>
	                </div>
	            </div>
        </div>
    
	</div>
</div>

<!-- 新增弹框 -->
<div class="am-modal am-modal-prompt" tabindex="-1" id="my-prompt">
	<div class="am-modal-dialog">
		<div class="am-modal-hd">添加奖品</div>
		<form class="am-form am-form-horizontal">
			 
            <div class="am-modal-bd">
                <div class="am-form-group">
                    <label for="accountName" class="am-u-sm-3 am-form-label">奖品名称</label>
                    <div class="am-u-sm-9">
                    	 <input type="text" value="" required="">
                    </div>
                </div>

            </div>
            <div class="am-modal-footer">
                <span class="am-modal-btn" data-am-modal-cancel>取消</span> 
                <button type="submit" style="padding:0;border:none;background:none;width: 100%;height: 100%;outline: none;">提交</button>
                
            </div> 
        </form>
	</div>
</div>
<!-- 编辑弹框 -->
<div class="am-modal am-modal-confirm" tabindex="-1" id="my-update-confirm">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">编辑</div>
        <form class="am-form am-form-horizontal">
            <div class="am-modal-bd">
                <div class="am-form-group">
                    <label for="upaccountName" class="am-u-sm-3 am-form-label">奖品名称</label>
                    <div class="am-u-sm-9">
                    	<input type="text" id="upaccountName" value="" required="">
                    </div>
                </div>
            </div>
            <div class="am-modal-footer">
                <span class="am-modal-btn" data-am-modal-cancel>取消</span> 
                <button type="submit" style="padding:0;border:none;background:none;width: 100%;height: 100%;outline: none;">提交</button>
                
            </div> 
        </form>   
    </div>
</div>
<!-- 删除弹框 -->
<div class="am-modal am-modal-confirm" tabindex="-1" id="my-confirm">
  <div class="am-modal-dialog">
    <div class="am-modal-hd">删除提示</div>
    <div class="am-modal-bd">
      你，确定要删除这条记录吗？
    </div>
    <div class="am-modal-footer">
      <span class="am-modal-btn" data-am-modal-cancel>取消</span>
      <span class="am-modal-btn" data-am-modal-confirm>确定</span>
    </div>
  </div>
</div>
<script>
	 $(function () {

         // 编辑模态框操作 
        $('#doc-modal-list').find('.update').add('#doc-confirm-toggle').
            on('click', function () { 
                $('#upaccountName').val($(this).parentsUntil('tbody').find('.awName').html());
               
                $('#my-update-confirm').modal({
                    relatedTarget: this,
                    onConfirm: function (options) { 
                        var updateName = $('#upaccountName').val();
                      
                        var data = { updateName: updateName}
                        console.log(data)
                        $.post("URL", data, function (result) {
                            $("span").html(result);
                            window.location.reload()
                        });
                    },

                    closeOnConfirm: false,
                    onCancel: function () { 
                    }
                });
            }); 
    });

    //删除提示
   $(function() {
      $('#doc-modal-list').find('.tpl-table-black-operation-del').add('#doc-confirm-toggle').
        on('click', function() {
          $('#my-confirm').modal({
            relatedTarget: this,
            onConfirm: function(options) {
              var $link = $(this.relatedTarget).prev('a');
              var msg = '你要删除的链接 ID 为 ' + $(this.relatedTarget).attr('id');
              alert(msg);
            },
            // closeOnConfirm: false,
            onCancel: function() {
              
            }
          });
        });
    });
</script>
